<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>class Rust::CxxClass - Gecode/R Developers RDoc</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "../";
</script>

<script src="../js/jquery.js"></script>
<script src="../js/darkfish.js"></script>

<link href="../css/fonts.css" rel="stylesheet">
<link href="../css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="class">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../table_of_contents.html#pages">Pages</a>
    <a href="../table_of_contents.html#classes">Classes</a>
    <a href="../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    <div id="parent-class-section" class="nav-section">
  <h3>Parent</h3>

  
  <p class="link"><a href="Class.html">Rust::Class</a>
  
</div>

    
    
    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li ><a href="#method-i-custom_extends">#custom_extends</a>
    
    <li class="calls-super" ><a href="#method-i-initialize">#initialize</a>
    
    <li ><a href="#method-i-test_children">#test_children</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="class-Rust::CxxClass">
  <h1 id="class-Rust::CxxClass" class="class">
    class Rust::CxxClass
  </h1>

  <section class="description">
    
  </section>

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

    
      <div id="method-i-custom_extends" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">custom_extends</span><span
            class="method-args">(parent)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="custom_extends-source">
            <pre><span class="ruby-comment"># File vendor/rust/rust/cxxclass.rb, line 59</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">custom_extends</span>(<span class="ruby-identifier">parent</span>)
  <span class="ruby-ivar">@parent_varname</span> = <span class="ruby-identifier">parent</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_children" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_children</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>This function is used during ruby to C/C++ conversion of the types, and
test for the deepest class the pointer is valid for.</p>
          
          

          
          <div class="method-source-code" id="test_children-source">
            <pre><span class="ruby-comment"># File vendor/rust/rust/cxxclass.rb, line 65</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_children</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@children_classes</span>
  
  <span class="ruby-identifier">ret</span> = <span class="ruby-string">&quot;&quot;</span>
  
  <span class="ruby-ivar">@children_classes</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">klass</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">ret</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">%Q@
 if ( dynamic_cast&lt; #{klass.namespace.cname}::#{klass.name}* &gt;(instance) != NULL )
 {
   klass = c#{klass.varname};
   #{klass.test_children}
 }
 @</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">return</span> <span class="ruby-identifier">ret</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="protected-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Protected Instance Methods</h3>
       </header>

    
      <div id="method-i-initialize" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">initialize</span><span
            class="method-args">(name, namespace, parent = nil)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>This function initializes the <a href="CxxClass.html">CxxClass</a> instance
by setting the values to the attributes defining its parent, namespace,
name and a few other needed information.</p>

<p>When a C++ <a href="Class.html">Class</a> is bound that is a child of
another class, it shares its highest anchestor’s pointer map (as that is
the more general pointer type it can be referred to with), and function to
call when free()‘ing.</p>

<p>Don’t call this function directly, use <a
href="Container.html#method-i-add_cxx_class">Rust::Container#add_cxx_class</a></p>

<p><strong>FIXME</strong>: multiple inheritance can make <a
href="../Rust.html">Rust</a> bail out, badly.</p>
          
          
            <div class="method-calls-super">
              Calls superclass method
              <a href="Class.html#method-i-initialize">Rust::Class#initialize</a>
            </div>
          

          
          <div class="method-source-code" id="initialize-source">
            <pre><span class="ruby-comment"># File vendor/rust/rust/cxxclass.rb, line 39</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">parent</span> = <span class="ruby-keyword">nil</span>) <span class="ruby-comment"># :notnew:</span>
  <span class="ruby-keyword">super</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">namespace</span>)
  <span class="ruby-ivar">@parent</span> = <span class="ruby-identifier">parent</span>

  <span class="ruby-ivar">@children_classes</span> = []

  <span class="ruby-ivar">@definition_template</span> = <span class="ruby-constant">Templates</span>[<span class="ruby-string">&quot;CxxClassDefinitions&quot;</span>]

  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@parent</span>
    <span class="ruby-ivar">@ptrmap</span> = <span class="ruby-ivar">@parent</span>.<span class="ruby-identifier">ptrmap</span>
    <span class="ruby-ivar">@function_free</span> = <span class="ruby-ivar">@parent</span>.<span class="ruby-identifier">function_free</span>
    <span class="ruby-ivar">@parent_varname</span> = <span class="ruby-node">&quot;r#{@parent.varname}&quot;</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@declaration_template</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">Templates</span>[<span class="ruby-string">&quot;StandaloneClassDeclarations&quot;</span>]
    <span class="ruby-ivar">@definition_template</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">Templates</span>[<span class="ruby-string">&quot;CxxStandaloneClassDefinitions&quot;</span>]
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">add_expansion</span> <span class="ruby-string">'test_children'</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="http://docs.seattlerb.org/rdoc/">RDoc</a> 4.2.0.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

